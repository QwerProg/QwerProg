name: WakaTime Sync

on:
  schedule:
    - cron: '0 0 * * *'   # 每天凌晨 00:00 运行
  workflow_dispatch:     # 允许手动点击运行

permissions:
  contents: write # Action 写入 README 的权限

jobs:
  update-readme:
    name: Update README with WakaTime Stats
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Update WakaTime Stats
        uses: anmol098/waka-readme-stats@master
        with:
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
          GH_TOKEN: ${{ secrets.GH_TOKEN }}
          
          # --- 基础设置 ---
          # LOCALE: "zh"               # 设置为中文显示
          SYMBOL_VERSION: "1"        # 使用实心方块进度条
          
          # --- 显示开关 ---
          SHOW_OS: "True"            # 显示操作系统
          SHOW_EDITORS: "True"       # 显示编辑器
          SHOW_LANGUAGE: "True"      # 显示编程语言
          SHOW_COMMIT: "True"        # 显示提交频率
          SHOW_DAYS_OF_WEEK: "True"  # 显示周几最忙
          SHOW_PROFILE_VIEWS: "True" # 显示主页访问量
          
          # --- 其他设置 ---
          SHOW_PROJECTS: "False"     # 显示项目名
          SHOW_SHORT_INFO: "True"    # 设置简短趣味信息
